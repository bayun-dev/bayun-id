var Ce=Object.defineProperty;var Le=(s,t,r)=>t in s?Ce(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var ce=(s,t,r)=>(Le(s,typeof t!="symbol"?t+"":t,r),r);import{B as T,R as V,j as e,N as ke,m as Ae,l as De,f as d,r as c,n as Se,O as de,d as M,o as ue,a as H,I as O,e as F,p as Ie,C as Fe,b as Me,g as Pe,h as Be,k as Re,L as Oe}from"./Checkbox-ab45eaed.js";import{h as R,S as Te,I as Ve,a as He,b as _e,c as qe,d as We,e as Ue,f as Ge}from"./moment-65017237.js";class ze extends T{constructor(t){super(V.GET,"/api/accounts/"+t,void 0,{headers:{Accept:"application/json"}})}}function he(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}function Ye(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})}function $e(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function Ke(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})})}function Xe(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}function me(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}function xe(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})})}function Je(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})}function Qe(s){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}const Ze=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col bg-white border border-gray-200 shadow-sm rounded-lg py-2",children:[e.jsx(q,{label:"Home",icon:e.jsx($e,{className:"w-7 h-7"}),to:"/"}),e.jsx(q,{label:"Personal info",icon:e.jsx(Ke,{className:"w-7 h-7"}),to:"/personal"}),e.jsx(q,{label:"Security",icon:e.jsx(Xe,{className:"w-7 h-7"}),to:"/security"})]})}),q=s=>{const a=["flex h-full items-center gap-4 p-4 hover:bg-gray-100","aria-[current=page]:bg-gray-100 aria-[current=page]:pointer-events-none"].join(" ");return e.jsx(e.Fragment,{children:e.jsxs(ke,{className:a,to:s.to,children:[e.jsx("div",{children:s.icon}),e.jsx("div",{children:e.jsx("span",{children:s.label})})]})})},es=s=>{const t=Ae();function r(){if(t.some(a=>a.id==="account.personal"))return"Personal info";if(t.some(a=>a.id==="account.security"))return"Security";if(t.some(a=>a.id==="account.email.change"))return"Your email";if(t.some(a=>a.id==="account.password.change"))return"Your password";if(t.some(a=>a.id==="account.delete"))return"Account deletion"}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-14 w-full bg-white border border-gray-200 shadow-sm rounded-b-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 h-full",children:[e.jsx("div",{className:"h-full px-4",children:e.jsxs("a",{className:"flex h-full items-center gap-2 font-logo text-3xl",href:"/",children:[e.jsx("img",{className:"w-8 h-8",src:De,alt:""}),e.jsx("span",{children:"ID"})]})}),e.jsx("div",{className:"flex items-center h-full pl-4",children:e.jsx("span",{className:"text-xl font-medium",children:r()})}),e.jsx("div",{className:"flex justify-end items-center pr-4",children:e.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden",children:e.jsx("img",{className:"w-full h-full",src:`/avatar/${s.account.avatarId}/large`,alt:""})})})]})})})};class S{constructor(t){ce(this,"code");this.code=t}}const ss=async s=>{const r=await new ze("me").execute();if(r.status===200){const a=r.data;if(a.deactivation.deactivated)throw a.deactivation.reason==="BLOCKED"?new S(d.ACCOUNT_BLOCKED):a.deactivation.reason==="DELETED"?new S(d.ACCOUNT_DELETED):new S(d.INTERNAL);return a}else throw r.status===403?new S(d.FORBIDDEN):new S(d.UNKNOWN)},ts=()=>{const[s]=c.useState(Se());return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-[750px] mx-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsx(es,{account:s})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"",children:e.jsx(Ze,{})}),e.jsx("div",{className:"col-span-2",children:e.jsx(de,{context:{account:s}})})]})]})})},rs=()=>{var t,r;const s=M();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex p-4 gap-x-4 gap-y-8 border border-gray-200 shadow-sm rounded-lg",children:[e.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden",children:e.jsx("img",{className:"w-full h-full",src:`/avatar/${s.account.avatarId}/large`,alt:""})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("div",{children:e.jsxs("span",{className:"font-semibold",children:[(t=s.account.person)==null?void 0:t.firstName," ",(r=s.account.person)==null?void 0:r.lastName]})}),e.jsx("div",{className:"-translate-y-1",children:e.jsxs("span",{className:"text-gray-500",children:["@",s.account.username]})})]})]})})};class W extends T{constructor(t,r){super(V.PATCH,"/api/accounts/"+t,r,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}})}}class as extends T{constructor(t){super(V.DELETE,"/api/accounts/"+t+"/avatar",void 0,{headers:{Accept:"application/json"},params:{...ue()}})}}const ns=()=>{var Y,$,K,X,J,Q,Z,ee;const s=M(),t=H(),[r,a]=c.useState(!0),[o,v]=c.useState(!1),[f,j]=c.useState(`/avatar/${s.account.avatarId}/large`),[p,E]=c.useState(void 0),[x,h]=c.useState((Y=s.account.person)==null?void 0:Y.firstName),[i,l]=c.useState(void 0);function m(u){let n=u.currentTarget.value;n&&(n=n.trim()),h(n),l(void 0)}const[g,k]=c.useState(($=s.account.person)==null?void 0:$.lastName),[A,y]=c.useState(void 0);function ve(u){let n=u.currentTarget.value;n&&(n=n.trim()),k(n),y(void 0)}const[U,G]=c.useState(void 0),[P,fe]=c.useState(R((K=s.account.person)==null?void 0:K.dateOfBirth,"DD.MM.yyyy").toDate()),[pe,z]=c.useState(void 0),je=u=>{u!=null&&fe(u)},[C,we]=c.useState((X=s.account.person)==null?void 0:X.gender),[Ne,B]=c.useState(void 0);function ye(u){let n=u.target.value;n&&(n=n.trim()),we(n),B(void 0)}c.useEffect(()=>{var u,n,b,w;console.log("update submit",f===`/avatar/${s.account.avatarId}/large`),a(x===((u=s.account.person)==null?void 0:u.firstName)&&g===((n=s.account.person)==null?void 0:n.lastName)&&R(P).format("DD.MM.yyyy")===((b=s.account.person)==null?void 0:b.dateOfBirth)&&C===((w=s.account.person)==null?void 0:w.gender)&&f===`/avatar/${s.account.avatarId}/large`)},[x,g,P,C,f]);async function be(){var se,te,re,ae;a(!0);const u=He(x);u.error&&(l(u.error),u.help&&G(u.help));const n=_e(g);n.error&&(y(n.error),n.help&&G(n.help));const b=We(),w=qe(C);if(w.error&&B(w.error),u.error||n.error||b.error||w.error){a(!1);return}const _=R(P).format("DD.MM.yyyy");new W("me",{firstName:((se=s.account.person)==null?void 0:se.firstName)===x?void 0:x,lastName:((te=s.account.person)==null?void 0:te.lastName)===g?void 0:g,dateOfBirth:((re=s.account.person)==null?void 0:re.dateOfBirth)===_?void 0:_,gender:((ae=s.account.person)==null?void 0:ae.gender.toLowerCase())===C.toLowerCase()?void 0:C.toLowerCase(),avatar:p}).execute().then(N=>{if(N.status===200)t(0);else throw N},N=>{var ne,oe;if(N.response.data.errors)((oe=(ne=N==null?void 0:N.response)==null?void 0:ne.data)==null?void 0:oe.errors).forEach(D=>{if(D.code===d.FIRSTNAME_INVALID)l("invalid first name");else if(D.code===d.LASTNAME_INVALID)y("invalid last name");else if(D.code===d.DATE_OF_BIRTH_INVALID)z("invalid date of birth");else if(D.code===d.GENDER_INVALID)B("invalid gender");else throw D});else throw new Error}).catch(N=>{console.error(N),a(!1)})}function Ee(){new as("me").execute().then(n=>{if(n.status===200)t(0);else throw n},n=>{var b,w;if(n.response.data.errors)((w=(b=n==null?void 0:n.response)==null?void 0:b.data)==null?void 0:w.errors).forEach(L=>{if(L.code===d.FIRSTNAME_INVALID)l("invalid first name");else if(L.code===d.LASTNAME_INVALID)y("invalid last name");else if(L.code===d.DATE_OF_BIRTH_INVALID)z("invalid date of birth");else if(L.code===d.GENDER_INVALID)B("invalid gender");else throw L});else throw new Error}).catch(n=>{console.error(n),a(!1)})}return e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"p-4 mb-4 text-base text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 border border-green-300 dark:border-green-300",children:e.jsx("span",{className:"",children:"Changes saved"})}),e.jsxs("div",{className:"grid grid-cols-2 p-4 gap-x-4 border border-gray-200 shadow-sm rounded-lg",children:[e.jsxs("div",{className:"col-span-2 flex gap-4 mb-4 ",children:[e.jsx(os,{src:f,setSrc:j,setFile:E,onDelete:Ee}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("div",{children:e.jsxs("span",{className:"font-medium text-lg",children:[(J=s.account.person)==null?void 0:J.firstName," ",(Q=s.account.person)==null?void 0:Q.lastName]})}),e.jsx("div",{children:e.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",s.account.id]})})]})]}),e.jsx(O,{label:"First Name",value:x,defaultValue:(Z=s.account.person)==null?void 0:Z.firstName,onChange:m,errorMessage:i}),e.jsx(O,{label:"Last Name",value:g,defaultValue:(ee=s.account.person)==null?void 0:ee.lastName,onChange:ve,errorMessage:A}),e.jsx("div",{className:"col-span-2 mb-8",children:U&&e.jsx("div",{id:"helper-text-explanation",className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:U})}),e.jsx(Te,{label:"Gender",value:C,values:{male:"Male",female:"Female"},onChange:ye,errorMessage:Ne}),e.jsx(Ve,{label:"Date of birth",dateFormat:"dd.MM.yyyy",selected:P,onChange:je,errorMessage:pe}),e.jsx("div",{className:"col-span-2 mt-8",children:e.jsx(F,{type:"dark",onClick:be,disabled:r,children:"Save"})})]})]})},os=s=>{const[t,r]=c.useState(!1),a=c.useRef(null),o=t?"":"hidden ",v="absolute bg-white border border-gray-200 rounded-lg shadow w-44 dark:bg-gray-700 ",f="right-0 top-full translate-y-4",j=o+v+f+"";function p(){r(!0)}function E(x){var l,m;if(!((l=x.target)!=null&&l.files))return;const h=(m=x.target)==null?void 0:m.files[0],i=new FileReader;i.onload=g=>{s.setSrc(g.target.result)},i.onerror=g=>{console.log("File could not be read: "+g.target.error.code)},h?(i.readAsDataURL(h),s.setFile(h)):s.setFile(void 0)}return c.useEffect(()=>{function x(h){var i;a.current!=null&&!((i=a.current)!=null&&i.contains(h.target))&&r(!1)}return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[a]),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"h-16 w-16 rounded-full overflow-hidden",onFocus:p,children:e.jsx("img",{className:"w-full h-full",src:s.src,alt:""})}),e.jsxs("div",{className:j,ref:a,children:[e.jsxs("label",{htmlFor:"if-avatar",className:"block cursor-pointer w-full text-left rounded-t-lg px-4 py-2 hover:bg-gray-100",children:[e.jsx("span",{children:"Update avatar"}),e.jsx("input",{id:"if-avatar",type:"file",onChange:E,className:"w-full hidden"})]}),e.jsx("button",{onClick:s.onDelete,className:"w-full text-left rounded-b-lg text-red-500 px-4 py-2 hover:bg-gray-100",children:"Delete avatar"})]})]})},cs=()=>{var r,a,o;const s=M(),t="Last updated "+R((r=s.account.secret)==null?void 0:r.lastModifiedDate).fromNow();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"font-medium",children:"Account info"})}),e.jsxs("div",{children:[((a=s.account.contact)==null?void 0:a.emailConfirmed)!==void 0&&!s.account.contact.emailConfirmed&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex p-4 gap-4 bg-gray-100 border rounded-lg border-gray-200 mb-4",children:[e.jsx("div",{children:e.jsx(Qe,{className:"w-6 h-6 mx-1 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("span",{className:"font-medium",children:"The mail is waiting for confirmation"})}),e.jsx("div",{children:e.jsxs("span",{className:"text-sm text-gray-500",children:["An email with a confirmation link was sent to ",ie(s.account.contact.email),". Please check your inbox."]})})]})]})}),e.jsx(I,{to:"/email-change",icon:e.jsx(me,{className:"w-8 h-8"}),title:"Email",hint:ie((o=s.account.contact)==null?void 0:o.email)}),e.jsx(I,{to:"/password-change",icon:e.jsx(xe,{className:"w-8 h-8"}),title:"Password",hint:t})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 shadow-sm mt-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"font-medium",children:"Your sessions"})}),e.jsxs("div",{children:[e.jsx(I,{to:"#",icon:e.jsx(Je,{className:"w-8 h-8"}),title:"Activity history",hint:"Last login date:"}),e.jsx(I,{to:"#",icon:e.jsx(Ye,{className:"w-8 h-8 text-red-600"}),title:e.jsx("span",{className:"text-red-600",children:"End other sessions"}),hint:"Click if you suspect someone other than you may have logged into your account"})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 shadow-sm mt-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"font-medium",children:"Actions"})}),e.jsx("div",{children:e.jsx(I,{to:"/delete",icon:e.jsx(he,{className:"w-8 h-8"}),title:"Delete account",hint:"You can delete your Bayun ID"})})]})]})})},I=s=>e.jsx(e.Fragment,{children:e.jsxs(Ie,{to:s.to,className:"flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100",children:[e.jsx("div",{children:s.icon}),e.jsxs("div",{children:[e.jsx("div",{children:s.title}),e.jsx("div",{className:"text-sm text-gray-500",children:s.hint})]})]})});function ie(s){if(!s)return;const t=s.split("@"),r=t[0],a=t[1];let o=r[0];return r.length>2&&(o+=r[1]),o+="***",o+"@"+a}const is=()=>{const s=M(),t=H(),[r,a]=c.useState(!0),[o,v]=c.useState(""),[f,j]=c.useState(void 0);function p(i){let l=i.currentTarget.value;l&&(l=l.trim()),v(l),j(void 0)}const[E,x]=c.useState(void 0);c.useEffect(()=>{var i;a(o.trim().length===0||o.trim()===((i=s.account.contact)==null?void 0:i.email))},[o]);async function h(){const i=Ue(o);if(i.error&&(j(i.error),i.help&&x(i.help)),i.error)return;new W("me",{email:o}).execute().then(m=>{if(m.status===200)t("/security");else throw m},m=>{var g,k;if(m.response.data.errors)((k=(g=m==null?void 0:m.response)==null?void 0:g.data)==null?void 0:k.errors).forEach(y=>{if(y.code===d.EMAIL_INVALID)j("invalid email");else throw y});else throw new Error}).catch(m=>{console.error(m),a(!1)})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center p-4 gap-4 border border-gray-200 shadow-sm rounded-lg",children:[e.jsx("div",{className:"grid",children:e.jsx(me,{className:"w-12 h-12 place-self-center"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-medium text-xl",children:"Enter your email"})}),e.jsx("div",{className:"text-center w-3/4",children:e.jsx("span",{className:"text-sm text-gray-500",children:"Enter your email address to be able to restore access to your account and receive security notifications"})}),e.jsx("div",{className:"w-2/3",children:e.jsx(O,{autoFocus:!0,value:o,onChange:p,errorMessage:f})}),e.jsx("div",{className:"w-1/3",children:e.jsx(F,{type:"dark",onClick:h,disabled:r,children:"Save"})})]})})},ls=()=>{M();const s=H(),[t,r]=c.useState(!0),[a,o]=c.useState(!1),[v,f]=c.useState(""),[j,p]=c.useState(void 0);function E(h){let i=h.currentTarget.value;i&&(i=i.trim()),f(i),p(void 0)}c.useEffect(()=>{r(v.trim().length<8)},[v]);async function x(){const h=Ge(v);if(h.error&&p(h.error),h.error)return;new W("me",{password:v}).execute().then(l=>{if(l.status===200)s("/security",{replace:!0,relative:"route"});else throw l},l=>{var m,g;if(l.response.data.errors)((g=(m=l==null?void 0:l.response)==null?void 0:m.data)==null?void 0:g.errors).forEach(A=>{if(A.code===d.EMAIL_INVALID)p("invalid password");else throw A});else throw new Error}).catch(l=>{console.error(l),r(!1)})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center p-4 gap-4 border border-gray-200 shadow-sm rounded-lg",children:[e.jsx("div",{className:"grid",children:e.jsx(xe,{className:"w-12 h-12 place-self-center"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-medium text-xl",children:"Create a password"})}),e.jsx("div",{className:"text-center w-3/4",children:e.jsx("span",{className:"text-sm text-gray-500",children:"Password will protect your account from hacking"})}),e.jsxs("div",{className:"w-3/4",children:[e.jsx(O,{type:a?"text":"password",autoFocus:!0,value:v,onChange:E,errorMessage:j,children:"The password can contain any characters and must be between 8 and 60 characters long."}),e.jsx("div",{className:"mt-2",children:e.jsx(Fe,{label:"Show password",value:a,onChange:h=>o(h.target.checked)})})]}),e.jsx("div",{className:"w-2/3"}),e.jsx("div",{className:"w-1/3",children:e.jsx(F,{type:"dark",onClick:x,disabled:t,children:"Save"})})]})})};class ds extends T{constructor(t){super(V.DELETE,"/api/accounts/"+t,void 0,{headers:{Accept:"application/json"},params:{...ue()}})}}const us=()=>{const s=H();async function t(){new ds("me").execute().then(o=>{if(o.status===200)s("/",{replace:!0});else throw o},o=>{var v,f;if(o.response.data.errors)((f=(v=o==null?void 0:o.response)==null?void 0:v.data)==null?void 0:f.errors).forEach(p=>{if(p.code!==d.ACCOUNT_NOT_FOUND)throw p});else throw new Error}).catch(o=>{})}function r(){s("/security")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center p-4 gap-4 border border-gray-200 shadow-sm rounded-lg",children:[e.jsx("div",{className:"grid",children:e.jsx(he,{className:"w-12 h-12 place-self-center"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-medium text-xl",children:"Account deletion"})}),e.jsx("div",{className:"text-center w-3/4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:["Once deleted, the account cannot be recovered.",e.jsx("br",{}),"Are you sure?"]})}),e.jsxs("div",{className:"w-3/4 grid grid-cols-2 gap-4",children:[e.jsx(F,{type:"dark",onClick:r,children:"No"}),e.jsx(F,{type:"light",onClick:t,children:"Yes"})]})]})})},ge=s=>{const t=Me(),r=hs(t.code);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-full flex justify-center items-center bg-white ",children:e.jsxs("div",{className:"w-[500px] text-center",children:[e.jsx("div",{children:e.jsx("span",{className:"text-3xl font-normal",children:r.title})}),e.jsx("div",{className:"my-8",children:e.jsx("span",{className:"text-9xl text-red-500",children:r.code})}),e.jsx("div",{className:"text-xl text-gray-500",children:r.description})]})})})},hs=s=>{switch(console.log("code",s),s){case d.ACCOUNT_BLOCKED:return{title:"Error 403: Forbidden",code:"403",description:e.jsx(e.Fragment,{children:"Your account has been blocked."})};case d.ACCOUNT_DELETED:return{title:"Error 403: Forbidden",code:"403",description:e.jsx(e.Fragment,{children:"Your account has been deleted."})};case d.INTERNAL:return{title:"Error 500: Internal",code:"500",description:e.jsx(e.Fragment,{children:"Looks like something went wrong. We will fix this soon."})};default:return{title:"Unknown Error",code:"XXX",description:e.jsx(e.Fragment,{children:"Looks like something went wrong. We will fix this soon."})}}},ms=c.createContext(void 0),xs=s=>{const[t,r]=c.useState();function a(o){r(o)}return e.jsx(ms.Provider,{value:{throws:a},children:t?e.jsx(e.Fragment,{children:e.jsx(ge,{exception:t})}):e.jsx(e.Fragment,{children:s.children})})},gs=()=>e.jsx(e.Fragment,{children:e.jsx(xs,{children:e.jsx(Oe,{children:e.jsx(de,{})})})}),vs=Pe([{id:"page.root",path:"/",element:e.jsx(gs,{}),errorElement:e.jsx(ge,{}),children:[{id:"account",path:"/",element:e.jsx(ts,{}),loader:ss,children:[{id:"account.home",path:"/",element:e.jsx(rs,{})},{id:"account.personal",path:"/personal",element:e.jsx(ns,{})},{id:"account.security",path:"/security",element:e.jsx(cs,{})},{id:"account.email.change",path:"/email-change",element:e.jsx(is,{})},{id:"account.password.change",path:"/password-change",element:e.jsx(ls,{})},{id:"account.delete",path:"/delete",element:e.jsx(us,{})}]}]}]),le=document.getElementById("p-index");le&&Be(le).render(e.jsx(Re,{router:vs}));
