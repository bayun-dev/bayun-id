import{B as Q,R as z,j as e,u as G,r,c as J,E as K}from"./3f2d47e7.js";/* empty css        */import{I as l,H as W,L as X,E}from"./0e2defe6.js";import{C as Y,i as Z,f as ee}from"./98679543.js";import{i as se,f as ae}from"./4a98f407.js";import{i as C,f as P,q as re}from"./85777b53.js";class te extends Q{constructor(t){super(z.POST,"/api/methods/auth.signUp",t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}})}}const ne=()=>{const c=G(),[t,T]=r.useState(""),[V,i]=r.useState(void 0);function I(a){const s=a.currentTarget.value.trim();T(s),i(se(s))}const[d,U]=r.useState(""),[k,u]=r.useState(void 0);function F(a){const s=a.currentTarget.value;U(s),u(C(s))}const[m,L]=r.useState(""),[M,h]=r.useState(void 0);function A(a){const s=a.currentTarget.value;L(s),h(C(s))}const[x,b]=r.useState(""),[q,f]=r.useState(void 0);function B(a){const s=a.currentTarget.value.trim();b(s),f(void 0)}const[g,H]=r.useState(""),[_,p]=r.useState(void 0),[j,$]=r.useState(!1);function O(a){const s=a.currentTarget.value;H(s),p(Z(s))}async function D(){const a=ae(t),s=P(d),N=P(m),w=re(x),S=ee(g);if(a||s||N||w||S){i(a),u(s),h(N),f(w),p(S);return}new te({username:t,firstName:d,lastName:m,password:g,email:x}).execute().then(n=>{if(n.data.ok)window.location.replace("/login");else throw E.INTERNAL_ERROR}).catch(n=>{var R;if(!(n.response&&n.response.data)){c.show.internalError();return}const v=n.response.data;v.type===E.BAD_REQUEST_PARAMETERS?(R=v.parameters)==null||R.forEach(o=>{o==="username"?i("Invalid"):o==="firstName"?u("Invalid"):o==="lastName"?h("Invalid"):o==="email"?f("Invalid"):o==="password"&&p("Invalid")}):v.type===E.USERNAME_OCCUPIED?i("Already taken"):c.show.internalError()})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full xs:w-xs p-4 space-y-8",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-3xl font-medium",children:"Registration"})}),e.jsx(l,{placeholder:"Username",value:t,onChange:I,errorMessage:V,autoFocus:!0}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-8 xs:gap-4",children:[e.jsx(l,{placeholder:"First name",value:d,onChange:F,errorMessage:k}),e.jsx(l,{placeholder:"Last name",value:m,onChange:A,errorMessage:M})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{placeholder:"Password",value:g,onChange:O,errorMessage:_,type:j?"password":"text"}),e.jsx(Y,{color:"dark",value:j,label:"Hide password",onChange:a=>$(a.target.checked)})]}),e.jsx(l,{placeholder:"Email",value:x,onChange:B,errorMessage:q,children:"Email is required for account recovery."}),e.jsx("button",{className:"btn-dark w-full text-xl",onClick:D,children:"Sign Up"})]})})},oe=()=>e.jsxs(W,{children:[e.jsx("a",{className:"flex h-full items-center font-logo text-3xl",href:"/",children:e.jsx(X,{})}),e.jsx("div",{className:"h-full flex justify-end items-center",children:e.jsx("a",{className:"btn-dark-outline",href:"/login",children:"Log In"})})]}),le=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(oe,{}),e.jsx("main",{className:"flex flex-col justify-center items-center grow",children:e.jsx(ne,{})})]})}),ie=()=>e.jsx(e.Fragment,{children:e.jsx(K,{children:e.jsx(le,{})})}),y=document.getElementById("p-signup");y&&J(y).render(e.jsx(ie,{}));
