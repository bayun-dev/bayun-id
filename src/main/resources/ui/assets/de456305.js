import{B as d,R as l,c as m,j as e,E as h,u as x,r as c}from"./3f2d47e7.js";/* empty css        */import{M as g,b as u,c as j}from"./cf404cd9.js";class f extends d{constructor(){super(l.POST,"/api/methods/auth.signOut",{},{headers:{Accept:"application/json"}})}}const p=()=>e.jsx(e.Fragment,{children:e.jsx(h,{children:e.jsx(w,{})})}),w=()=>{const t=x(),[a,r]=c.useState();return c.useEffect(()=>{new g().execute().then(s=>{s.data.ok?r(s.data):t.show.internalError()}).catch(s=>{(!s.response||!s.response.data.type)&&t.show.internalError(),t.show.internalError()})},[]),e.jsx(e.Fragment,{children:a?e.jsx(e.Fragment,{children:e.jsx(v,{me:a})}):e.jsx(e.Fragment,{})})},v=t=>{async function a(){var o;(await new f().execute()).data.ok&&((o=window.top)==null||o.location.reload())}async function r(){var n;(n=window.top)==null||n.location.replace("/")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-4 flex flex-col items-center w-full h-full shadow border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"mb-4 mt-2",children:e.jsx("img",{className:"w-16 h-16 rounded-full ring-2 ring-black ring-offset-2",src:`/avatar/${t.me.avatarId==null?"default":t.me.avatarId}`,alt:""})}),e.jsx("div",{className:"",children:e.jsxs("span",{className:"font-medium text-lg",children:[t.me.firstName," ",t.me.lastName]})}),e.jsx("div",{children:e.jsxs("span",{className:"text-gray-500",children:["@",t.me.username]})}),e.jsxs("button",{onClick:r,className:"flex items-center gap-4 px-4 py-2 mt-4 rounded-lg hover:bg-gray-100 w-full",children:[e.jsx("div",{children:e.jsx(u,{className:"w-6 h-6"})}),e.jsx("div",{children:e.jsx("span",{children:"Account management"})})]}),e.jsxs("button",{onClick:a,className:"flex items-center gap-4 px-4 py-2 mt-2 rounded-lg hover:bg-gray-100 w-full",children:[e.jsx("div",{children:e.jsx(j,{className:"w-6 h-6"})}),e.jsx("div",{children:e.jsx("span",{children:"Sign out"})})]}),e.jsx("div",{})]})})},i=document.getElementById("p-widget");i&&m(i).render(e.jsx(p,{}));
